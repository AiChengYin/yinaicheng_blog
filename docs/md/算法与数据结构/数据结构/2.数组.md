# 数组

## 使用Java中的数组

* 程序
```java
/**
 * 测试Java数组
 */
public class TestJavaArray {

    public static void main(String[] args) {
        /*开辟空间*/
        int[] arr=new int[10];
        /*赋值*/
        for(int i=0;i<arr.length;i++){
            arr[i]=i;
        }
        for(int i=0;i<arr.length;i++){
            System.out.println(arr[i]);
        }
        System.out.println("*****************************");
        int[] scores=new int[]{1,2,3};
        for(int i=0;i<scores.length;i++){
            System.out.println(scores[i]);
        }
        System.out.println("*****************************");
        scores[0]=4;
        for(int i=0;i<scores.length;i++){
            System.out.println(scores[i]);
        }
    }

}
```

* 输出结果
```log
0
1
2
3
4
5
6
7
8
9
*****************************
1
2
3
*****************************
4
2
3
```

## 二次封装数组，方便增删改查操作

> 往二次封装数组中增添元素
```java
/**
 * 二次封装的数组
 */
public class Array {


    /**
     * 使用private的话，外部就无法更改值了，安全，而且提升了封装性
     */
    private int[] data;

    /**
     * 元素个数
     */
    private int size;

    /**
     * 构造函数，传入数组的容量capacity构造Array
     * @param capacity 数组的容量capacity
     */
    public Array(int capacity){
        data=new int[capacity];
        size=0;
    }

    /**
     * 无参数的构造函数，默认数组的容量capacity=10
     */
    public Array(){
        this(10);
    }
    /**
     * 获取数组中的元素个数
     */
    public int getSize(){
        return size;
    }
    /**
     * 获取数组的容量
     */
    public int getCapacity(){
        return data.length;
    }
    /**
     * 判断数组是否为空（无元素）
     */
    public boolean isEmpty(){
        return size==0;
    }
    /**
     * 向所有元素后添加一个新元素
     */
    public void addLast(int e){
        add(size,e);
    }
    /**
     * 在数组中第一个位置添加元素
     */
    public void addFirst(int e){
        add(0,e);
    }
    /**
     * 向数组中指定元素添加元素
     */
    public void add(int index,int e){
        /*如果元素个数和数组容量相等，说明无法再添加新元素了*/
        if(size==data.length){
            throw new IllegalArgumentException("异常");
        }
        if(index<0 || index>size){
            throw new IllegalArgumentException("异常");
        }
        /*每个元素都向后移动一个位置*/
        for(int i=size-1;i>=index;i--){
            data[i+1]=data[i];
        }
        data[index]=e;
        size++;
    }

    @Override
    public String toString() {
        StringBuilder res=new StringBuilder();
        res.append(String.format("Array: size=%d, capacity=%d\n",size,data.length));
        res.append('[');
        for(int i=0;i<size;i++){
            res.append(data[i]);
            if(i!=size-1){
                res.append(", ");
            }
        }
        res.append(']');
        return res.toString();
    }

    public static void main(String[] args) {
        Array arr=new Array(20);
        for(int i=0;i<10;i++){
            arr.addLast(i);
        }
        System.out.println(arr);
        arr.add(1,100);
        System.out.println(arr);
        arr.addFirst(-1);
        System.out.println(arr);
    }

}
```

日志输出结果
```log
Array: size=10, capacity=20
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Array: size=11, capacity=20
[0, 100, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Array: size=12, capacity=20
[-1, 0, 100, 1, 2, 3, 4, 5, 6, 7, 8, 9]
```

> 数组中查询元素和修改元素

```java
/**
 * 二次封装的数组
 */
public class Array {


    /**
     * 使用private的话，外部就无法更改值了，安全，而且提升了封装性
     */
    private int[] data;

    /**
     * 元素个数
     */
    private int size;

    /**
     * 构造函数，传入数组的容量capacity构造Array
     * @param capacity 数组的容量capacity
     */
    public Array(int capacity){
        data=new int[capacity];
        size=0;
    }

    /**
     * 无参数的构造函数，默认数组的容量capacity=10
     */
    public Array(){
        this(10);
    }
    /**
     * 获取数组中的元素个数
     */
    public int getSize(){
        return size;
    }
    /**
     * 获取数组的容量
     */
    public int getCapacity(){
        return data.length;
    }
    /**
     * 判断数组是否为空（无元素）
     */
    public boolean isEmpty(){
        return size==0;
    }
    /**
     * 向所有元素后添加一个新元素
     */
    public void addLast(int e){
        add(size,e);
    }
    /**
     * 在数组中第一个位置添加元素
     */
    public void addFirst(int e){
        add(0,e);
    }
    /**
     * 向数组中指定元素添加元素
     */
    public void add(int index,int e){
        /*如果元素个数和数组容量相等，说明无法再添加新元素了*/
        if(size==data.length){
            throw new IllegalArgumentException("异常");
        }
        if(index<0 || index>size){
            throw new IllegalArgumentException("异常");
        }
        /*每个元素都向后移动一个位置*/
        for(int i=size-1;i>=index;i--){
            data[i+1]=data[i];
        }
        data[index]=e;
        size++;
    }

    /**
     * 获取index索引位置的元素
     */
    public int get(int index){
        if(index<0 || index>=size){
            throw new IllegalArgumentException("Get failed. Index is illegal.");
        }
        return data[index];
    }

    /**
     * 修改index索引位置的元素为e
     */
    public void set(int index,int e){
        if(index<0 || index>=size){
            throw new IllegalArgumentException("Set failed. Index is illegal.");
        }
        data[index]=e;
    }

    @Override
    public String toString() {
        StringBuilder res=new StringBuilder();
        res.append(String.format("Array: size=%d, capacity=%d\n",size,data.length));
        res.append('[');
        for(int i=0;i<size;i++){
            res.append(data[i]);
            if(i!=size-1){
                res.append(", ");
            }
        }
        res.append(']');
        return res.toString();
    }

    public static void main(String[] args) {
        Array arr=new Array(20);
        for(int i=0;i<10;i++){
            arr.addLast(i);
        }
        System.out.println(arr);
        arr.add(1,100);
        System.out.println(arr);
        arr.addFirst(-1);
        System.out.println(arr);
        arr.set(3,1000);
        System.out.println(arr.get(3));
    }

}
```

输出结果
```log
Array: size=10, capacity=20
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Array: size=11, capacity=20
[0, 100, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Array: size=12, capacity=20
[-1, 0, 100, 1, 2, 3, 4, 5, 6, 7, 8, 9]
1000
```

> 数组中的包含、搜索和删除元素

```java
/**
 * 二次封装的数组
 */
public class Array {


    /**
     * 使用private的话，外部就无法更改值了，安全，而且提升了封装性
     */
    private int[] data;

    /**
     * 元素个数
     */
    private int size;

    /**
     * 构造函数，传入数组的容量capacity构造Array
     * @param capacity 数组的容量capacity
     */
    public Array(int capacity){
        data=new int[capacity];
        size=0;
    }

    /**
     * 无参数的构造函数，默认数组的容量capacity=10
     */
    public Array(){
        this(10);
    }
    /**
     * 获取数组中的元素个数
     */
    public int getSize(){
        return size;
    }
    /**
     * 获取数组的容量
     */
    public int getCapacity(){
        return data.length;
    }
    /**
     * 判断数组是否为空（无元素）
     */
    public boolean isEmpty(){
        return size==0;
    }
    /**
     * 向所有元素后添加一个新元素
     */
    public void addLast(int e){
        add(size,e);
    }
    /**
     * 在数组中第一个位置添加元素
     */
    public void addFirst(int e){
        add(0,e);
    }
    /**
     * 向数组中指定元素添加元素
     */
    public void add(int index,int e){
        /*如果元素个数和数组容量相等，说明无法再添加新元素了*/
        if(size==data.length){
            throw new IllegalArgumentException("异常");
        }
        if(index<0 || index>size){
            throw new IllegalArgumentException("异常");
        }
        /*每个元素都向后移动一个位置*/
        for(int i=size-1;i>=index;i--){
            data[i+1]=data[i];
        }
        data[index]=e;
        size++;
    }

    /**
     * 获取index索引位置的元素
     */
    public int get(int index){
        if(index<0 || index>=size){
            throw new IllegalArgumentException("Get failed. Index is illegal.");
        }
        return data[index];
    }

    /**
     * 修改index索引位置的元素为e
     */
    public void set(int index,int e){
        if(index<0 || index>=size){
            throw new IllegalArgumentException("Set failed. Index is illegal.");
        }
        data[index]=e;
    }

    /**
     * 查找数组中是否有元素e
     */
    public boolean contains(int e){
        for(int i=0;i<size;i++) {
            if (data[i] == e) {
                return true;
            }
        }
        return false;
    }

    /**
     * 查找数组中元素e所在的索引，如果不存在元素e，则返回-1
     */
    public int find(int e){
        for(int i=0;i<size;i++){
            if(data[i]==e){
                return i;
            }
        }
        return -1;
    }

    /**
     * 从数组中删除index位置的元素，返回删除的元素
     */
    public int remove(int index){
        if(index<0 || index>=size){
            throw new IllegalArgumentException("Remove failed. Index is illegal.");
        }
        int ret=data[index];
        for(int i=index+1;i<size;i++){
            data[i-1]=data[i];
        }
        size--;
        return ret;
    }

    /**
     * 从数组中删除第一个元素，返回删除的元素
     */
    public int removeFirst(){
        return remove(0);
    }

    /**
     * 从数组中删除最后一个元素，返回删除的元素
     */
    public int removeLast(){
        return remove(size-1);
    }

    /**
     * 从数组中删除元素e
     */
    public void removeElement(int e){
        int index=find(e);
        if(-1!=index){
            remove(index);
        }
    }


    @Override
    public String toString() {
        StringBuilder res=new StringBuilder();
        res.append(String.format("Array: size=%d, capacity=%d\n",size,data.length));
        res.append('[');
        for(int i=0;i<size;i++){
            res.append(data[i]);
            if(i!=size-1){
                res.append(", ");
            }
        }
        res.append(']');
        return res.toString();
    }

    public static void main(String[] args) {
        Array arr=new Array(20);
        for(int i=0;i<10;i++){
            arr.addLast(i);
        }
        System.out.println(arr);
        arr.add(1,100);
        System.out.println(arr);
        arr.addFirst(-1);
        System.out.println(arr);
        arr.remove(2);
        System.out.println(arr);
        arr.removeElement(4);
        System.out.println(arr);
        arr.removeFirst();
        System.out.println(arr);
        arr.removeLast();
        System.out.println(arr);
    }

}
```

输出结果
```log
Array: size=10, capacity=20
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Array: size=11, capacity=20
[0, 100, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Array: size=12, capacity=20
[-1, 0, 100, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Array: size=11, capacity=20
[-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Array: size=10, capacity=20
[-1, 0, 1, 2, 3, 5, 6, 7, 8, 9]
Array: size=9, capacity=20
[0, 1, 2, 3, 5, 6, 7, 8, 9]
Array: size=8, capacity=20
[0, 1, 2, 3, 5, 6, 7, 8]
```