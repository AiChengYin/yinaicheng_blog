# Git常用操作

## 常用命令

* git add a.txt 把文件提交到暂存区
* git commit -m "我是说明" 把文件提交到版本库，git每次提交代码，都要写commit message，否则就不允许提交
* git push -u origin master 将本地库内容推送到远程库上
* git status 查看仓库当前状态
* git diff 文件名 -> 查看仓库文件做了哪些改动
* git log 查看提交历史
* git reset 版本回退
* git checkout：撤销修改
* git clone git@github.com:原仓库名/[xxx].git ->克隆远程库
* git branch 查看分支
* git checkout 分支名 -> 切换分支
* git branch 分支名 -> 创建分支
* git merge 分支名 -> 将当前分支合并到
* git branch -d dev -> 删除分支
* 删除本地有但在远程库已经不存在的分支：git remote prune origin

## 常用功能

* git切换分支：git checkout ***分支
* 切换或者创建本地分支：git checkout -b ***分支
* 把本地分支推送到远程：git push --set-upstream origin ***分支
* 把仓库的东西都拉下来到本地：git fetch --all
* 回退（hard把改动全部丢弃）：git reset --hard ***分支
* 从远程获取代码并合并本地：git pull
* 列出所有分支：git branch -a
* 创建一个本地分支：git branch ***
* 创建一个分支，并且切换到该分支：git checkout -b ***
* 删除本地分支：git branch -d ***
* 删除远程分支：git push origin --delete ***

## 查看配置信息

```log
git config --list
```

## 配置用户名密码邮箱

```log
git config --global user.name "用户名"  
git config --global user.password "密码"  
git config --global user.email "邮箱"
```

# 保存会话的用户名和密码（将其缓存）

```log
git config --global credential.helper cache
```

## 标识
用于说明 commit 的类别，只允许使用下面7个标识。
* feat：新功能（feature）
* fix：修补bug
* docs：文档（documentation）
* style： 格式（不影响代码运行的变动）
* refactor：重构（即不是新增功能，也不是修改bug的代码变动）
* test：增加测试
* chore：构建过程或辅助工具的变动

## Git Commit后想撤销
```log
git reset --soft HEAD^
```

## Git push成功后想撤销

1. 第一步：git reset --hard 要恢复的最新版本号
2. 第二步（强制更新线上分支）：git push origin 分支 -f  

如：  
```log
git reset --hard 2e7e08e73a7249aee1e4f4b38a63989545cbc5d9  
git push origin feat/merge-test -f  
```

## 新建Git分支
1. 第一步：git checkout -b feat/***
2. 第二步：git push origin feat/***:feat/***

## cherry-pick
在其他分支上进行的修改，用cherry-pick将代码移动到目标分支上  
git checkout ***分支  
git cherry-pick ***提交版本号

## Git打标签

如果你达到一个重要的阶段，并希望永远记住那个特别的提交快照，你可以使用git tag给它打上标签
使用示例：
```git
git tag 0.0.1
git push origin 0.0.1
```