# Git版本控制入门

## Git概述

### 版本控制概述

> 什么是版本控制

版本控制是指对软件开发过程中各种程序代码、配置文件以及说明文档等文件变更的管理，是软件配置管理的核心思想之一。

> 版本控制的必要性

* 历史回溯
* 可以进行多人的协作开发

### Git简介

* Git是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。
* Git是Linus Torvalds为了帮助管理Linux内核而开发的一个开放源码的版本控制软件。
* Git与常用的版本控制工具CVS、Subversion等不同，它采用了分布式版本库的方式，不必服务器端软件支持。

### Git的安装

在使用Git前我们需要安装Git。

windows下安装包下载地址：https://git-scm.com/download/win。

git工具安装的路径如下图，安装完后把bin目录添加path变量中，在终端可以查看git工具的版本号。

![](./photo/image-20200916181344669.png)

![](./photo/image-20200916181429350.png)

![](./photo/image-20200916181519946.png)

## Git基础

### Git仓库

可以理解为一个目录，该目录里面的所有文件均可以被Git管理起来，每个文件的修改、删除操作，Git都可以跟踪，以便任何时刻都可以追踪历史，或者在将来某个时刻可以还原。

![](./photo/image-20200916172510045.png)

### Git基本操作

* 签名：git config
* 初始化仓库：git init
* 增加到暂存区：git add
* 提交到版本库：git commit
* 查看仓库状态：git status
* 查看提交日志：git log
* 查看提交日志的链表信息：git reflog
* 回退：git reset --hard [索引]

![](./photo/image-20200916174307057.png)

在该目录创建一个test.txt文件及一些常用操作。

![](./photo/image-20200916180250602.png)

![](./photo/image-20200916181044747.png)

## Git实战（IDEA编译器下使用）

安装Git工具后，在IDEA里进行配置Git的命令执行路径。

![](./photo/image-20200916181739994.png)

工具栏找到VCS，选择Git。

![](./photo/image-20200916181858751.png)

从服务器下载代码，如果项目代码仓库是由Git管理，需要Git URL。

![](./photo/image-20200916181934281.png)

拉取下来的文件夹下的文件，对应的是Git Clone命令。

![](./photo/image-20200916182019878.png)

### 模拟Git添加文件功能

某程序员完成添加订单功能，项目新增OrderServlet文件。  
写完后IDEA会跳出提示弹框，选择是表示把文件添加到本地仓库（对应的是Git add操作）。

![](./photo/image-20200916182159008.png)

添加完之后，红色字体变成绿色，表示该文件添加到本地仓库里了。

![](./photo/image-20200916182341514.png)

提交代码，右键项目名后跳出如下界面，选择Commit Directory。

![](./photo/image-20200916182730103.png)

![](./photo/image-20200916182828839.png)

![](./photo/image-20200916182855284.png)

![](./photo/image-20200916182920268.png)

现在提交的代码都保存在本地，需要把代码推送到远程服务器上。

![](./photo/image-20200916183016167.png)

![](./photo/image-20200916183054562.png)

在推送的过程中，会弹出输入git服务器的用户名和密码，输入并且保存用户名密码即可，下次就无需再输入了。  
推送成功后，在服务器会看到更新的功能（前提是用户注册该服务器（如码云、github、gitlab）并且加入该代码组）。

![](./photo/image-20200916183304973.png)

![](./photo/image-20200916183329324.png)

![](./photo/image-20200916183357185.png)

提交历史记录查看

![](./photo/image-20200916183516688.png)

对比不同代码版本的区别

![](./photo/image-20200916183646236.png)

### 解决代码冲突的办法

A程序员对demo.txt文件进行了更改，B程序员在本机中也对同一个文件中进行修改或者添加代码操作
然后push到服务器会失败，因为代码冲突了，可以通过merge代码解决。

![](./photo/image-20200916183858678.png)

![](./photo/image-20200916184012189.png)

![](./photo/image-20200916184049711.png)