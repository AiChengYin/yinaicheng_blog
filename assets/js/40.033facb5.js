(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{376:function(t,e,a){t.exports=a.p+"assets/img/point_to_point.ac61d63e.jpg"},377:function(t,e,a){t.exports=a.p+"assets/img/publish_subscribe.9b69841a.jpg"},378:function(t,e,a){t.exports=a.p+"assets/img/message_properties_value.172f780c.jpg"},571:function(t,e,a){"use strict";a.r(e);var i=a(8),l=Object(i.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"jms概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jms概述"}},[t._v("#")]),t._v(" JMS概述")]),t._v(" "),e("h2",{attrs:{id:"jms规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jms规范"}},[t._v("#")]),t._v(" JMS规范")]),t._v(" "),e("blockquote",[e("p",[t._v("JMS简介")])]),t._v(" "),e("p",[t._v("即Java Message Service，Java消息服务，它只是一个Java平台中关于面向消息中间件的API，用于在两个应用程序之间或分布式系统中发送消息，用于异步通信，且与具体平台无关（Java、PHP、Python等语言都支持），\n具体怎么发送消息，是由实现者来实现的，类似jdbc不同厂商有不同的驱动")]),t._v(" "),e("blockquote",[e("p",[t._v("JMS的对象模型")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("模型属性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("ConnectionFactory")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("连接工厂")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("Connection")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("连接")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("Session")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("会话")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("Destination")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("目的")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("MessageProducer")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("生产者")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("MessageConsumer")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("消费者")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("Message")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("消息")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("Broker")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("消息中间件的实例（ActiveMQ）")])])])]),t._v(" "),e("blockquote",[e("p",[t._v("JMS的消息模型")])]),t._v(" "),e("ul",[e("li",[t._v("点对点（Point-to-Point）")])]),t._v(" "),e("p",[t._v("消息指定消费者，你给朋友A发消息，其他人是看不到这个消息的")]),t._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":a(376),loading:"lazy"}})]),t._v(" "),e("ul",[e("li",[t._v("发布订阅（Publish/Subscribe）")])]),t._v(" "),e("p",[t._v("有topic存在，这条消息会发送给全部订阅有这个topic的消费者，比如发帖子、发群公告等场景，只要别人能进入页面，就可以看到发的消息")]),t._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":a(377),loading:"lazy"}})]),t._v(" "),e("blockquote",[e("p",[t._v("JMS的消息结构")])]),t._v(" "),e("p",[t._v("JMS虽然只是一个API定义，JMS的实现厂商可以不遵循它去做，但是作为中间件的协议，最好有个规范，消息结构进行了这方面的约束")]),t._v(" "),e("p",[t._v("消息结构分为消息头、消息属性、消息体三部分，存放着消息的具体信息，就像发快递一样，告知我们发的快递里存放着什么物品")]),t._v(" "),e("ul",[e("li",[t._v("消息头（关于消息的描述信息）")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("消息头属性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("JMSDestination")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("消息的目的地，Topic或者是Queue")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("JMSDeliveryMode")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("消息的发送模式")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("JMSTimestamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("消息传递给Broker的时间戳，它不是实际发送的时间")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("JMSExpiration")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("消息的有效期，在有效期内，消息消费者才可以消费这个消息")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("JMSPriority")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("消息的优先级，0-4为正常的优先级，5-9为高优先级")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("JMSMessageID")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("一个字符串，用来唯一标识一条消息")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("JMSReplyTo")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("有时消息生产者希望消费者回复一个消息（告知是否收到），JMSReplyTo为一个Destination，标识需要回复的目的地")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("JMSCorrelationID")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("通常用来关联多个Message")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("JMSType")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("表示消息体的结构，和JMS提供者有关")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("JMSRedelivered")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("如果这个值为true，表示消息是被重新发送了")])])])]),t._v(" "),e("ul",[e("li",[t._v("消息属性")])]),t._v(" "),e("p",[t._v("可以理解为消息的附加消息头，属性名可以自定义，可以是业务值，Key-Value形式")]),t._v(" "),e("p",[t._v("属性值支持的类型")]),t._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":a(378),loading:"lazy"}})]),t._v(" "),e("ul",[e("li",[t._v("消息体")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("消息体属性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("BytesMessage")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用来传递字节消息")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("MapMessage")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用来传递键值对消息")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("ObjectMessage")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用来传递序列化对象")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("StreamMessage")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用来传递文件等")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("TextMessage")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用来传递字符串")])])])])])}),[],!1,null,null,null);e.default=l.exports}}]);